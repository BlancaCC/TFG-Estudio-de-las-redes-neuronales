% DEFINICIÓN DE COMANDOS Y ENTORNOS

% CONJUNTOS DE NÚMEROS

  \newcommand{\N}{\mathbb{N}}     % Naturales
  \newcommand{\R}{\mathbb{R}}     % Reales
  \newcommand{\Z}{\mathbb{Z}}     % Enteros
  \newcommand{\Q}{\mathbb{Q}}     % Racionales
  \newcommand{\C}{\mathbb{C}}     % Complejos

  \newcommand{\pmc}{\sum ^r (G)}  % Perceptrón multicapa 
  \newcommand{\pmcg}{ \sum \prod^r (G)} % Perceptrón multicapa generalizado
  \newcommand{\fC}{C(\R^r)} %conjunto de funciones continuas en R^r -> R
  \newcommand{\fM}{M(\R^r)} % Perceptrón generalizado
  \newcommand{\rrnn}{ \sum^r (\psi)} % Red neuronal  generalizado
  \newcommand{\rrnng}{ \sum \prod^r (\psi)} % Red neuronal  generalizado
  \newcommand{\dist}{\rho_{\mu}}     % Distancia de una medida
  \newcommand{\dlp}{\rho_{p}} % Distancia de los espacios Lp
  % Para multicapas
  \newcommand{\fCC}{C(\R^r ,\R^s)}
  \newcommand{\fMM}{M(\R^r , \R^s)}
  \newcommand{\rrnnmc}{ \sum^{r,s} (\psi)} 
  \newcommand{\rrnngmc}{ \sum \prod^{r,s} (\psi)} 
  %%%%%%%%% Mis comandos %%%%%%%%%5
\usepackage{sidenotes} % Notas en el margen
\newcommand{\margenimagen}{
  \newgeometry{
      left=2.5cm, % Margen izquierdo
    right=5cm, % Margen derecho
    bottom=2.5cm % Margen inferior}
  }
}
\usepackage{caption}
\usepackage{subcaption}

% TEOREMAS Y ENTORNOS ASOCIADOS

  % \newtheorem{theorem}{Theorem}[chapter]
  \newtheorem*{teorema*}{Teorema}
  \newtheorem{teorema}{Teorema}[chapter]
  \newtheorem{proposicion}{Proposición}[chapter]
  \newtheorem{lema}{Lema}[chapter]
  \newtheorem{corolario}{Corolario}[chapter]

    \theoremstyle{definition}
  \newtheorem{definicion}{Definición}[chapter]
  \newtheorem{ejemplo}{Ejemplo}[chapter]

    \theoremstyle{remark}
  \newtheorem{observacion}{Observación}[chapter]


\DeclareMathOperator{\sign}{signo}
\usepackage[inline]{enumitem}
\usepackage{mathtools}
\usepackage[spanish,onelanguage,linesnumbered,ruled,vlined]{algorithm2e}
\usepackage{listingsutf8}
\lstset{language=Python,
        literate=
          {ó}{{\'o}}1
          {í}{{\'i}}1
          {á}{{\'a}}1
          {ú}{{\'u}}1
          {é}{{\'e}}1
          {ñ}{{\v{n}}}1
}
\usepackage{tocloft}
\setlength{\cftfignumwidth}{2.55em}
\DeclareMathOperator*{\argmin}{arg\,min}

% ---- Personal para los márgenes ----- 
\usepackage[many]{tcolorbox}
\usepackage{tikzpagenodes}
\usetikzlibrary{tikzmark}
\definecolor{ForestGreen}{RGB}{34,139,34}

\newtcolorbox{story}[1][]{
  width=\textwidth,
  fonttitle=\bfseries,
  breakable,
  extrude right by=4cm,
  fonttitle=\bfseries\color{Brown},
  colframe=Melon,
  colback=Melon!10
  #1}

\newcounter{mynote}
\newtcolorbox[use counter=mynote]
  {mynote}[1][]
  {title=Note~\thetcbcounter,
   width=4cm,
   left=0pt,
   right=0pt,
   fonttitle=\bfseries,
   coltitle=black,
   colframe=ForestGreen!40,
   colback=ForestGreen!10,
   #1
}    

\newcounter{tmp}
\newcommand\StoryNote[3][]{%
    \stepcounter{tmp}%
    \tikzmark{mark-\thetmp}%
    \begin{tikzpicture}[remember picture,overlay]
    \node[inner sep=0pt,anchor=north west] 
      at ([xshift=23pt]current page text area.east|-{pic cs:mark-\thetmp})
      {\begin{mynote}[label=#3]
        #2
      \end{mynote}};
    \end{tikzpicture}%
}